var v=Object.defineProperty;var b=(i,o,s)=>o in i?v(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s;var a=(i,o,s)=>(b(i,typeof o!="symbol"?o+"":o,s),s);import{Q as m,K as c,V as u}from"./index-61e14e01.js";import{R as d,j as R}from"./vendor-95b30d29.js";import{F as C}from"./formium-7b85afc3.js";const D=["path"],U=["path"],F="_root_100g2_1",V={root:F};class q extends d.Component{constructor(s){super(s);a(this,"formiumRef",d.createRef());a(this,"form")}componentDidMount(){setTimeout(()=>{this.form=new C({target:this.formiumRef.current,props:{value:this.props.value,list:this.props.list,readonly:this.props.readonly,identify:this.props.identify,hiddenConfigFields:this.props.hide||[],translations:this.props.translations,lang:this.props.lang}}),this.form.$on("requestUpdate",s=>{m.configStore.onRequestUpdate(this.props.path)}),this.form.$on("configChange",s=>{setTimeout(()=>{m.configStore.compareConfig(this.props.identify)},100)}),this.form.$set({onVariableSearch:(s,r)=>{const n=r,p=n.substr(n.lastIndexOf("$"),n.length),e=p.substr(0,0)+p.substr(0+2);let t;return this.props.identify!="allID"&&(t=this.props.identify),c.getVariables(this.props.path,s,e,t).then(h=>h)}}),this.form.$set({onVariableResolve:(s,r)=>{const n=r;let p;return this.props.identify!="allID"&&(p=this.props.identify),c.resolve(this.props.path,s,n,p).then(e=>{let t="";if(!e||e===null)return t;if(Object.keys(e).length>1){t+='<ul class="var-res-list">';for(const l in e){const g=this.props.istab?" (on server ":" (on session pool ";t+="<li>"+u(l)+g,e[l].forEach((f,y)=>{t+=y===e[l].length-1?f:f+", "}),t+=")</li>"}t+="</ul>"}else t+=u(Object.keys(e)[0]);return t})}})},10)}componentDidUpdate(s){var r;(r=this.form)==null||r.$set({readonly:this.props.readonly,value:this.props.value,list:this.props.list,identify:this.props.identify,hide:this.props.hide,translations:this.props.translations,lang:this.props.lang})}componentWillUnmount(){this.form&&this.form.$destroy()}render(){return R.jsx("div",{className:V.root,id:this.props.identify,ref:this.formiumRef})}}export{q as F,U as a,D as h};
//# sourceMappingURL=FormiumConfig-51a9911c.js.map
